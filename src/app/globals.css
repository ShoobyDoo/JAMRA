@config "../../tailwind.config.ts";
@import "tailwindcss";

/* Override Tailwind v4's hover variant to remove @media (hover: hover) wrapper
 * This fixes Linux Chromium/Electron incorrectly reporting hover: none
 * Reference: https://bordermedia.org/blog/tailwind-css-4-hover-on-touch-device
 */
@custom-variant hover (&:hover);

/* Override Mantine's @media (hover: hover) queries for Linux Chromium compatibility
 * Mantine uses @media (hover: hover) which breaks on Linux, so we duplicate the hover
 * styles outside the media query to ensure they work on all platforms
 */
@media (hover: none) {
  /* Mantine Button hover styles */
  button:hover:where(:not([data-loading], :disabled, [data-disabled])),
  a:hover:where(:not([data-loading], :disabled, [data-disabled])) {
    background-color: var(--button-hover, var(--mantine-color-default-hover));
  }

  /* Mantine ActionIcon hover styles */
  [data-action-icon]:hover:where(
      :not([data-loading], :disabled, [data-disabled])
    ) {
    background-color: var(--ai-hover, var(--mantine-color-default-hover));
  }

  /* Mantine NavLink hover styles */
  [data-nav-link]:hover:where(
      :not([data-combobox-selected], [data-nav-link-disabled])
    ) {
    background-color: var(--nl-hover, var(--mantine-color-default-hover));
  }

  /* Mantine Combobox/Select option hover styles */
  [data-combobox-option]:hover:where(
      :not([data-combobox-option-disabled], [data-disabled])
    ) {
    background-color: var(--combobox-hover, var(--mantine-color-default-hover));
  }

  /* Mantine UnstyledButton hover styles */
  [data-unstyled-button]:hover:where(
      :not([data-loading], :disabled, [data-disabled])
    ) {
    background-color: var(--button-hover, transparent);
  }

  /* Mantine Anchor (link) hover styles */
  a[data-mantine-component="Anchor"]:hover {
    text-decoration: underline;
  }

  /* Mantine Menu Item hover styles */
  [data-menu-item]:hover:where(:not([data-menu-item-disabled])) {
    background-color: var(
      --menu-item-hover,
      var(--mantine-color-default-hover)
    );
  }
}

@layer base {
  :root {
    --background: #ffffff;
    --foreground: #1f2937;

    --card: #ffffff;
    --card-foreground: #1f2937;

    --popover: #ffffff;
    --popover-foreground: #1f2937;

    --primary: #1d4ed8;
    --primary-foreground: #f8fafc;

    --secondary: #f3f4f6;
    --secondary-foreground: #1f2937;

    --muted: #e5e7eb;
    --muted-foreground: #4b5563;

    --accent: #e5e7eb;
    --accent-foreground: #1f2937;

    --destructive: #ef4444;
    --destructive-foreground: #f8fafc;

    --border: #e5e7eb;
    --input: #d1d5db;
    --ring: #2563eb;

    --radius: 0.5rem;
  }
}

@layer base {
  * {
    border-color: var(--border);
  }

  html,
  body {
    overflow: hidden;
    height: 100%;
    width: 100%;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
  }

  button,
  [data-button] {
    --button-hover: var(--accent);
  }

  [data-action-icon] {
    --ai-hover: var(--accent);
  }

  [data-combobox-option] {
    --combobox-hover: var(--accent);
  }

  /* Modern thin scrollbar styling */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
  }

  /* Webkit browsers (Chrome, Safari, Edge) */
  *::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  *::-webkit-scrollbar-track {
    background: transparent;
  }

  *::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
  }

  *::-webkit-scrollbar-thumb:hover {
    background-color: rgba(0, 0, 0, 0.3);
  }

  *::-webkit-scrollbar-corner {
    background: transparent;
  }
}

@layer utilities {
  .border-border {
    border-color: var(--border);
  }

  .border-input {
    border-color: var(--input);
  }

  .bg-background {
    background-color: var(--background);
  }

  .bg-foreground {
    background-color: var(--foreground);
  }

  .bg-card {
    background-color: var(--card);
  }

  .bg-popover {
    background-color: var(--popover);
  }

  .bg-primary {
    background-color: var(--primary);
  }

  .bg-secondary {
    background-color: var(--secondary);
  }

  .bg-destructive {
    background-color: var(--destructive);
  }

  .bg-muted {
    background-color: var(--muted);
  }

  .bg-accent {
    background-color: var(--accent);
  }

  .text-foreground {
    color: var(--foreground);
  }

  .text-card-foreground {
    color: var(--card-foreground);
  }

  .text-popover-foreground {
    color: var(--popover-foreground);
  }

  .text-primary-foreground {
    color: var(--primary-foreground);
  }

  .text-secondary-foreground {
    color: var(--secondary-foreground);
  }

  .text-destructive-foreground {
    color: var(--destructive-foreground);
  }

  .text-muted-foreground {
    color: var(--muted-foreground);
  }

  .text-accent-foreground {
    color: var(--accent-foreground);
  }

  .ring-ring {
    --tw-ring-color: var(--ring);
  }

  .extension-card-expandable {
    transition: all 0.2s ease-in-out;
  }

  .extension-card-expandable:hover {
    transform: translateY(-1px);
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }
}
